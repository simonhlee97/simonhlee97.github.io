<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sandbox</title>
    <link rel="stylesheet" href="https://unpkg.com/modern-css-reset/dist/reset.min.css" />
    <link rel="stylesheet" href="./sand.css" />
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
  </head>

  <body>
    <div class="header">
      <h2 id="name"></h2>
      <h2 id="title"></h2>
    </div>

    <section>
      <div class="container reveal fade-bottom">
        <p class="skills-zoom" style="text-align: center"><i data-feather="terminal" class="feather"></i></p>
        <div class="flex-list" style="padding-bottom: 6em; max-width: 800px; margin: 0 auto">
          <span class="skill-tag">JavaScript</span>
          <span class="skill-tag">HTML5, CSS3</span>
          <span class="skill-tag">Node.js</span>
          <span class="skill-tag">React, Next.js</span>
          <span class="skill-tag">Vue.js</span>
          <span class="skill-tag">Svelte, SvelteKit</span>
          <span class="skill-tag">Ruby on Rails</span>
          <span class="skill-tag">MongoDB</span>
          <span class="skill-tag">Postgres</span>
          <span class="skill-tag">WordPress</span>
        </div>
      </div>
    </section>

    <section>
      <div class="container reveal fade-bottom">
        <p class="skills-zoom" style="text-align: center"><i data-feather="at-sign" class="feather"></i></p>
        <div class="flex-list" style="padding-bottom: 6em; max-width: 800px; margin: 0 auto">
          <span class="skill-tag">
            <a href="https://linkedin.com/in/simon-h-lee">
              <i data-feather="linkedin" class="feather"></i>
            </a>
          </span>
          <span class="skill-tag"
            ><a href="https://github.com/simonhlee97"><i data-feather="github" class="feather"></i></a
          ></span>
          <span class="skill-tag"
            ><a href="mailto:simonhlee4945@gmail.com"><i data-feather="mail" class="feather"></i></a
          ></span>
        </div>
      </div>
    </section>

    <section>
      <div class="container reveal fade-bottom">
        <p style="text-align: center"><i data-feather="layout" class="feather"></i></p>
        <h2>Projects</h2>
        <div class="projects">
          <div class="project">
            <h3>Project title</h3>
            <img src="https://picsum.photos/id/1/1000/450" alt="ipsum" />
          </div>
          <div class="project">
            <h3>Project title</h3>
            <img src="https://picsum.photos/id/35/1000/450" alt="ipsum" />
          </div>
          <div class="project">
            <h3>Project title</h3>
            <img src="https://picsum.photos/id/11/1000/450" alt="ipsum" />
          </div>
        </div>
      </div>
    </section>

    <script>
      feather.replace()

      function printStringWithDelay(string, delay, targetElementId) {
        let characters = string.split('')
        let index = 0
        let outputElement = document.getElementById(targetElementId)

        let interval = setInterval(function () {
          if (index < characters.length) {
            outputElement.textContent += characters[index]
            index++
          } else {
            clearInterval(interval)
          }
        }, delay)
      }

      // Usage:
      printStringWithDelay('Simon Lee', 200, 'name')
      printStringWithDelay('<Web Developer />', 200, 'title')

      // Lazy loading images
      const imgTargets = document.querySelectorAll('img[data-src]')

      const loadImg = function (entries, observer) {
        const [entry] = entries

        if (!entry.isIntersecting) return

        // Replace src with data-src
        entry.target.src = entry.target.dataset.src

        entry.target.addEventListener('load', function () {
          entry.target.classList.remove('lazy-img')
        })

        observer.unobserve(entry.target)
      }

      const imgObserver = new IntersectionObserver(loadImg, {
        root: null,
        threshold: 0,
        rootMargin: '200px',
      })

      imgTargets.forEach((img) => imgObserver.observe(img))

      // from Codepen user Alvaro
      function reveal() {
        var reveals = document.querySelectorAll('.reveal')

        for (var i = 0; i < reveals.length; i++) {
          var windowHeight = window.innerHeight
          var elementTop = reveals[i].getBoundingClientRect().top
          var elementVisible = 150

          if (elementTop < windowHeight - elementVisible) {
            reveals[i].classList.add('active')
          } else {
            reveals[i].classList.remove('active')
          }
        }
      }

      window.addEventListener('scroll', reveal)
    </script>
  </body>
</html>
